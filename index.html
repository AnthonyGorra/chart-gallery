<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery with Copyable Text</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap');
        
        body {
            font-family: 'Amiri', serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .gallery {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-gap: 20px;
            margin-top: 20px;
        }
        .gallery-item {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }
        .gallery-item:hover {
            transform: translateY(-5px);
        }
        .gallery-image {
            width: 100%;
            height: 200px;
            object-fit: contain;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 80%;
            max-height: 80%;
            overflow: auto;
            position: relative;
        }
        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
            color: #333;
        }
        .modal-image {
            max-width: 90%;
            max-height: 500px;
            display: block;
            margin: 0 auto 20px;
        }
        .copy-area {
            display: flex;
            margin-top: 20px;
        }
        .text-to-copy {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f9f9f9;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
        }
        .copy-button {
            margin-left: 10px;
            padding: 10px 15px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .copy-button:hover {
            background-color: #45a049;
        }
        .success-message {
            color: #4CAF50;
            margin-top: 10px;
            display: none;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
        .logo {
            position: absolute;
            top: 0;
            right: 0;
            max-width: 150px;
            height: auto;
        }
        @media (max-width: 768px) {
            .gallery {
                grid-template-columns: repeat(2, 1fr);
            }
            .modal-content {
                max-width: 95%;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Chart Creations for SOA</h1>
        <p>Created by Anthony Gorra</p>
        <img src="First Financial Logo.png" alt="First Financial Logo" class="logo">
    </div>

    <div class="gallery" id="imageGallery">
        <!-- Images will be loaded here from JavaScript -->
    </div>

    <div class="modal" id="imageModal">
        <div class="modal-content">
            <span class="close-button" id="closeModal">&times;</span>
            <img class="modal-image" id="modalImage" src="" alt="">
            <h3 id="modalTitle">Image Title</h3>
            <div class="copy-area">
                <div class="text-to-copy" id="textToCopy">This is the text that will be copied when the button is clicked.</div>
                <button class="copy-button" id="copyButton">Copy Text</button>
            </div>
            <p class="success-message" id="copySuccess">Text copied to clipboard!</p>
        </div>
    </div>

    <script>
        // Financial chart data with real images
        const galleryData = [
            {
                image: "Pie Chart Final.png",
                title: "Asset Allocation Pie Chart",
                text: "Important: Required Files\nTo use this prompt, you need to attach:\nThe React component code for the pie chart\nThe ANONYMIZED SOA document (.docx file)\nAsset Allocation Pie Chart Updater Prompt\nYou'll receive a financial document and React code for an interactive asset allocation pie chart component. Your task is to update only the asset percentages while preserving all functionality.\nInstructions:\nExtract asset allocation percentages from the document (look in portfolio composition or investment recommendations sections)\nUpdate ONLY the initial assets state array in the React component to reflect these percentages\nMaintain any redacted information exactly as shown (e.g., \"[REDACTED]\")\nKeep all other code, functionality, styling, and features intact\nReturn the complete updated code without abbreviation or omission\nImportant Notes:\nIf percentages don't sum to exactly 100% or some data is unclear:\nUse available values\nNote any uncertain/missing information\nComplete the visualization regardless\nState any assumptions made\nThe goal is to produce a working pie chart visualization with the available data, even if incomplete\nIf you need to make adjustments to reach 100%, clearly explain your methodology.\nHere is the react code you will use as your template: \n\nimport React, { useState, useEffect } from 'react';\n\nconst PieChartCreator = () => {\n  const [clientName, setClientName] = useState('');\n  const [assets, setAssets] = useState([\n    { name: 'Domestic Cash', percentage: 10.62 },\n    { name: 'Domestic Fixed Interest', percentage: 3.23 },\n    { name: 'International Fixed Interest', percentage: 3.23 },\n    { name: 'Domestic Equity', percentage: 33.63 },\n    { name: 'International Equity', percentage: 36.12 },\n    { name: 'Domestic Property', percentage: 13.16 }\n  ]);\n\n  const [error, setError] = useState('');\n  const [warning, setWarning] = useState('');\n\n  const colors = ['#8BA6A9', '#A7CECB', '#7FB5B5', '#75704E', '#CACC90', '#B5AD7D'];\n\n  const handleClientNameChange = (e) => {\n    setClientName(e.target.value);\n  };\n\n  const handleAssetNameChange = (index, value) => {\n    const newAssets = [...assets];\n    newAssets[index].name = value;\n    setAssets(newAssets);\n  };\n\n  const handlePercentageChange = (index, value) => {\n    const newAssets = [...assets];\n    newAssets[index].percentage = parseFloat(value) || 0;\n    setAssets(newAssets);\n  };\n\n  const addAsset = () => {\n    if (assets.length < 6) {\n      setAssets([...assets, { name: '', percentage: 0 }]);\n    } else {\n      setWarning('Maximum 6 assets allowed');\n      setTimeout(() => setWarning(''), 3000);\n    }\n  };\n\n  const removeAsset = (index) => {\n    if (assets.length > 1) {\n      const newAssets = [...assets];\n      newAssets.splice(index, 1);\n      setAssets(newAssets);\n    } else {\n      setWarning('At least one asset is required');\n      setTimeout(() => setWarning(''), 3000);\n    }\n  };\n\n  useEffect(() => {\n    const total = assets.reduce((sum, asset) => sum + asset.percentage, 0);\n    if (Math.abs(total - 100) > 0.01) {\n      setError(`Total: ${total.toFixed(2)}% (should be 100%)`);\n    } else {\n      setError('');\n    }\n  }, [assets]);\n\n  const calculatePath = (startAngle, percentage) => {\n    const degrees = percentage * 3.6;\n    const endAngle = startAngle + degrees;\n    \n    const startRad = (startAngle - 90) * (Math.PI / 180);\n    const endRad = (endAngle - 90) * (Math.PI / 180);\n    \n    const startX = 150 * Math.cos(startRad);\n    const startY = 150 * Math.sin(startRad);\n    const endX = 150 * Math.cos(endRad);\n    const endY = 150 * Math.sin(endRad);\n    \n    const largeArcFlag = degrees > 180 ? 1 : 0;\n    \n    return {\n      path: `M 0,0 L ${startX},${startY} A 150,150 0 ${largeArcFlag},1 ${endX},${endY} Z`,\n      endAngle\n    };\n  };\n\n  const generatePaths = () => {\n    let startAngle = 0;\n    const paths = [];\n    \n    assets.forEach((asset, index) => {\n      const { path, endAngle } = calculatePath(startAngle, asset.percentage);\n      paths.push({\n        path,\n        fill: colors[index % colors.length],\n        asset\n      });\n      startAngle = endAngle;\n    });\n    \n    return paths;\n  };\n\n  return (\n    <div className=\"w-full max-w-4xl mx-auto p-4\">\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n        <h2 className=\"text-xl font-bold mb-4\">Asset Allocation Pie Chart Creator</h2>\n        \n        <div className=\"mb-4\">\n          <label className=\"block font-medium mb-1\">Client Name:</label>\n          <input\n            type=\"text\"\n            value={clientName}\n            onChange={handleClientNameChange}\n            placeholder=\"Enter client name\"\n            className=\"w-full p-2 border rounded\"\n          />\n        </div>\n        \n        <div className=\"mb-4\">\n          <div className=\"flex justify-between items-center mb-2\">\n            <h3 className=\"font-medium\">Asset Allocation:</h3>\n            <button\n              onClick={addAsset}\n              className=\"bg-blue-500 text-white px-2 py-1 rounded text-sm\"\n              disabled={assets.length >= 6}\n            >\n              Add Asset\n            </button>\n          </div>\n          \n          {assets.map((asset, index) => (\n            <div key={index} className=\"flex mb-2 items-center space-x-2\">\n              <div className=\"w-8 h-8\" style={{ backgroundColor: colors[index % colors.length] }}></div>\n              <input\n                type=\"text\"\n                value={asset.name}\n                onChange={(e) => handleAssetNameChange(index, e.target.value)}\n                placeholder=\"Asset name\"\n                className=\"flex-1 p-2 border rounded\"\n              />\n              <input\n                type=\"number\"\n                value={asset.percentage}\n                onChange={(e) => handlePercentageChange(index, e.target.value)}\n                placeholder=\"Percentage\"\n                step=\"0.01\"\n                min=\"0\"\n                max=\"100\"\n                className=\"w-24 p-2 border rounded\"\n              />\n              <span className=\"text-lg\">%</span>\n              <button\n                onClick={() => removeAsset(index)}\n                className=\"bg-red-500 text-white p-1 rounded\"\n                disabled={assets.length <= 1}\n              >\n                âœ•\n              </button>\n            </div>\n          ))}\n          \n          {error && <p className=\"text-red-500 mt-2\">{error}</p>}\n          {warning && <p className=\"text-yellow-500 mt-2\">{warning}</p>}\n        </div>\n      </div>\n      \n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <svg width=\"800\" height=\"400\" viewBox=\"0 0 800 400\" xmlns=\"http://www.w3.org/2000/svg\" font-family=\"Times New Roman, serif\">\n          <text x=\"400\" y=\"30\" font-size=\"24\" font-weight=\"bold\" text-anchor=\"middle\">\n            {clientName || \"[CLIENT NAME]\"}'s Asset Allocation\n          </text>\n          \n          <rect x=\"0\" y=\"0\" width=\"800\" height=\"400\" fill=\"none\" stroke=\"black\" />\n          <g transform=\"translate(200,200)\">\n            {generatePaths().map((item, index) => (\n              <path \n                key={index}\n                d={item.path}\n                fill={item.fill}\n                aria-label={`${item.asset.name}: ${item.asset.percentage}%`}\n              />\n            ))}\n          </g>\n          \n          <g transform=\"translate(450,140)\">\n            {assets.map((asset, index) => (\n              <g key={index} transform={`translate(0,${index * 20})`}>\n                <rect width=\"15\" height=\"15\" fill={colors[index % colors.length]} stroke=\"black\" />\n                <text x=\"18\" y=\"12\" font-size=\"14\" font-weight=\"bold\">\n                  {asset.name} ({asset.percentage.toFixed(2)}%)\n                </text>\n              </g>\n            ))}\n          </g>\n          \n          <text x=\"10\" y=\"390\" font-size=\"12\" text-anchor=\"start\">\n            *Asset allocation aligns with circumstances-based asset allocation*\n          </text>\n        </svg>\n      </div>\n      \n      <div className=\"mt-6 bg-gray-100 p-4 rounded-lg\">\n        <h3 className=\"font-medium mb-2\">Instructions:</h3>\n        <ol className=\"list-decimal ml-5 space-y-1\">\n          <li>Enter the client's name</li>\n          <li>Input each asset class name and its percentage allocation</li>\n          <li>Ensure percentages add up to exactly 100%</li>\n          <li>You can add up to 6 asset classes</li>\n          <li>The pie chart will update automatically</li>\n        </ol>\n      </div>\n    </div>\n  );\n};\n\nexport default PieChartCreator;"
            },
            {
                image: "Switch Platform Final.png",
                title: "Investment Strategy Flowchart",
                text: "Create a flowchart showing investment strategy with Direct Investments (incl Property) flowing to Australian Super accounts and Centuria LifeGoals Bond"
            },
            {
                image: "Rental Income.png",
                title: "Super Rollover Diagram",
                text: "Create a flowchart showing super rollover from QSuper to Macquarie Super Manager II with rental income contributions"
            },
            {
                image: "Super Fund with Lump Sums.png",
                title: "Withdrawal Strategy",
                text: "Create a diagram showing withdrawal strategy from Morley Super Fund accounts to cash account"
            },
            {
                image: "SMSF Flowchart.png",
                title: "SMSF Establishment",
                text: "Create a comprehensive SMSF establishment and rollover diagram showing contributions from bank account"
            },
            {
                image: "Rollovers, Contribution Splitting and Savings Plan Flowchart.png",
                title: "Contribution Splitting Strategy",
                text: "Create a diagram showing super accounts with employment income and contribution splitting strategy"
            },
            {
                image: "Family Legacy Trust Flowchart.png",
                title: "Family Trust Strategy",
                text: "Create a flowchart showing family legacy trust structure with investments and distribution strategy"
            },
            {
                image: "Regular Family Pension.png",
                title: "Family Pension Plan",
                text: "Create a flowchart for family pension arrangement showing account structure and investment options"
            },
            {
                image: "family pension with drawdowns.png",
                title: "Pension Drawdown Strategy",
                text: "Create a Family Pension Plan diagram showing TRIS accounts and minimum withdrawal strategy"
            },
            {
                image: "/api/placeholder/400/300",
                title: "Diversified Portfolio",
                text: "Create a pie chart showing diversified investment portfolio with 30% Australian Equities, 30% International Equities, 20% Fixed Income, 10% Property, 5% Infrastructure, 5% Cash"
            },
            {
                image: "/api/placeholder/400/300",
                title: "Retirement Income Strategy",
                text: "Create a flowchart showing retirement income strategy with super, investment property and share portfolio income streams"
            },
            {
                image: "/api/placeholder/400/300",
                title: "Insurance Coverage Plan",
                text: "Create a diagram showing life insurance, TPD, income protection and trauma coverage amounts and premium costs"
            },
            {
                image: "/api/placeholder/400/300",
                title: "Estate Planning Structure",
                text: "Create a flowchart showing estate planning with testamentary trust, power of attorney, and binding death nominations"
            },
            {
                image: "/api/placeholder/400/300",
                title: "Debt Reduction Strategy",
                text: "Create a diagram showing debt reduction strategy for home loan, investment loan and personal loans with timeline"
            },
            {
                image: "/api/placeholder/400/300",
                title: "Retirement Savings Projection",
                text: "Create a chart showing retirement savings projection over 20 years with current balance $500,000 and annual contributions of $25,000"
            },
            {
                image: "/api/placeholder/400/300",
                title: "Cash Flow Management",
                text: "Create a Sankey diagram showing monthly cash flow with income sources, expenses, savings and investment allocations"
            },
            {
                image: "/api/placeholder/400/300",
                title: "Tax Optimization Strategy",
                text: "Create a flowchart showing tax optimization strategy using super contributions, investment bonds and trust structures"
            },
            {
                image: "/api/placeholder/400/300",
                title: "Business Succession Plan",
                text: "Create a diagram showing business succession plan with buy-sell agreement, key person insurance and transition timeline"
            },
            {
                image: "/api/placeholder/400/300",
                title: "Education Funding Plan",
                text: "Create a chart showing education funding strategy for two children using investment bonds, savings accounts and scholarship opportunities"
            },
            {
                image: "/api/placeholder/400/300",
                title: "Risk Profile Assessment",
                text: "Create a spider chart showing risk profile assessment with dimensions for time horizon, income needs, market knowledge, risk tolerance and financial capacity"
            }
        ];

        // Function to populate the gallery
        function populateGallery() {
            const gallery = document.getElementById('imageGallery');
            
            galleryData.forEach((item, index) => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                galleryItem.setAttribute('data-index', index);
                
                const img = document.createElement('img');
                img.src = item.image;
                img.alt = item.title;
                img.className = 'gallery-image';
                
                galleryItem.appendChild(img);
                gallery.appendChild(galleryItem);
                
                galleryItem.addEventListener('click', () => openModal(index));
            });
        }

        // Function to open modal with image and text
        function openModal(index) {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const modalTitle = document.getElementById('modalTitle');
            const textToCopy = document.getElementById('textToCopy');
            const copySuccess = document.getElementById('copySuccess');
            
            const item = galleryData[index];
            
            modalImage.src = item.image;
            modalImage.alt = item.title;
            modalTitle.textContent = item.title;
            textToCopy.textContent = item.text;
            copySuccess.style.display = 'none';
            
            modal.style.display = 'flex';
        }

        // Function to close modal
        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.style.display = 'none';
        }

        // Function to copy text
        function copyText() {
            const textToCopy = document.getElementById('textToCopy');
            const copySuccess = document.getElementById('copySuccess');
            
            navigator.clipboard.writeText(textToCopy.textContent)
                .then(() => {
                    copySuccess.style.display = 'block';
                    setTimeout(() => {
                        copySuccess.style.display = 'none';
                    }, 2000);
                })
                .catch(err => {
                    console.error('Failed to copy text: ', err);
                    alert('Failed to copy text to clipboard');
                });
        }

        // Initialize the gallery when the document is loaded
        document.addEventListener('DOMContentLoaded', () => {
            populateGallery();
            
            // Add event listeners
            document.getElementById('closeModal').addEventListener('click', closeModal);
            document.getElementById('copyButton').addEventListener('click', copyText);
            
            // Close modal when clicking outside the content
            document.getElementById('imageModal').addEventListener('click', (e) => {
                if (e.target === document.getElementById('imageModal')) {
                    closeModal();
                }
            });
        });
    </script>
</body>
</html>
