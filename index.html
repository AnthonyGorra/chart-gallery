<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery with Copyable Text</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Playfair+Display:wght@400;600;700&display=swap');
        
        body {
            font-family: 'Amiri', serif;
            margin: 0;
            padding: 20px;
            background-color: #7E99A3; /* Light blue mixed with navy */
            color: #4C585B;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            border-bottom: 2px solid #4C585B;
            padding-bottom: 20px;
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .header h1 {
            font-family: 'Playfair Display', serif;
            color: #000000; /* Changed to black */
            margin-bottom: 5px;
        }
        
        .header p {
            color: #000000; /* Changed to black */
            font-style: italic;
        }
        
        .logo {
            position: absolute;
            right: 20px;
            top: 50%; /* Center vertically */
            transform: translateY(-50%);
            max-width: 150px;
            height: auto;
        }
        
        .gallery {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-gap: 30px;
            margin-top: 20px;
        }
        
        .gallery-item {
            background-color: white; /* White background for card items */
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 15px 15px 20px 15px;
        }
        
        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
        }
        
        .gallery-image {
            width: 100%;
            height: 180px;
            object-fit: contain;
            margin-bottom: 15px;
        }
        
        .gallery-title {
            font-family: 'Playfair Display', serif;
            font-weight: 600;
            text-align: center;
            font-size: 14px;
            color: #000000; /* Changed to black */
            margin: 0;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 80%;
            max-height: 90%;
            overflow: auto;
            position: relative;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            border: 2px solid #4C585B;
        }
        
        .close-button {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #4C585B;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: #f1f1f1;
            transition: background-color 0.2s;
        }
        
        .close-button:hover {
            background-color: #e0e0e0;
        }
        
        .modal-image {
            max-width: 90%;
            max-height: 500px;
            display: block;
            margin: 0 auto 25px;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .modal h3 {
            text-align: center;
            font-family: 'Playfair Display', serif;
            color: #4C585B;
            margin-bottom: 20px;
            font-size: 24px;
        }
        
        .copy-area {
            display: flex;
            margin-top: 20px;
        }
        
        .text-to-copy {
            flex-grow: 1;
            padding: 15px;
            border: 1px solid #7E99A3;
            border-radius: 4px;
            background-color: #f9f9f9;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .copy-button {
            margin-left: 10px;
            padding: 10px 15px;
            background-color: #7E99A3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
            font-family: 'Amiri', serif;
        }
        
        .copy-button:hover {
            background-color: #4C585B;
        }
        
        .success-message {
            color: #4CAF50;
            margin-top: 10px;
            display: none;
            text-align: center;
            font-weight: bold;
        }
        
        @media (max-width: 1200px) {
            .gallery {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .gallery {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .gallery {
                grid-template-columns: repeat(2, 1fr);
            }
            .modal-content {
                max-width: 95%;
            }
        }
        
        @media (max-width: 480px) {
            .gallery {
                grid-template-columns: repeat(1, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Chart Creations for SOA</h1>
        <p>Created by Anthony Gorra</p>
        <img src="First Financial Logo.png" alt="First Financial Logo" class="logo">
    </div>

    <div class="gallery" id="imageGallery">
        <!-- Images will be loaded here from JavaScript -->
    </div>

    <div class="modal" id="imageModal">
        <div class="modal-content">
            <span class="close-button" id="closeModal">&times;</span>
            <img class="modal-image" id="modalImage" src="" alt="">
            <h3 id="modalTitle">Image Title</h3>
            <div class="copy-area">
                <div class="text-to-copy" id="textToCopy">This is the text that will be copied when the button is clicked.</div>
                <button class="copy-button" id="copyButton">Copy Text</button>
            </div>
            <p class="success-message" id="copySuccess">Text copied to clipboard!</p>
        </div>
    </div>

    <script>
        // Financial chart data with real images
        const galleryData = [
            {
                image: "Pie Chart Final.png",
                title: "Asset Allocation Pie Chart",
                text: "Important: Required Files\nTo use this prompt, you need to attach:\nThe React component code for the pie chart\nThe ANONYMIZED SOA document (.docx file)\nAsset Allocation Pie Chart Updater Prompt\nYou'll receive a financial document and React code for an interactive asset allocation pie chart component. Your task is to update only the asset percentages while preserving all functionality.\nInstructions:\nExtract asset allocation percentages from the document (look in portfolio composition or investment recommendations sections)\nUpdate ONLY the initial assets state array in the React component to reflect these percentages\nMaintain any redacted information exactly as shown (e.g., \"[REDACTED]\")\nKeep all other code, functionality, styling, and features intact\nReturn the complete updated code without abbreviation or omission\nImportant Notes:\nIf percentages don't sum to exactly 100% or some data is unclear:\nUse available values\nNote any uncertain/missing information\nComplete the visualization regardless\nState any assumptions made\nThe goal is to produce a working pie chart visualization with the available data, even if incomplete\nIf you need to make adjustments to reach 100%, clearly explain your methodology.\nHere is the react code you will use as your template: \n\nimport React, { useState, useEffect } from 'react';\n\nconst PieChartCreator = () => {\n  const [clientName, setClientName] = useState('');\n  const [assets, setAssets] = useState([\n    { name: 'Domestic Cash', percentage: 10.62 },\n    { name: 'Domestic Fixed Interest', percentage: 3.23 },\n    { name: 'International Fixed Interest', percentage: 3.23 },\n    { name: 'Domestic Equity', percentage: 33.63 },\n    { name: 'International Equity', percentage: 36.12 },\n    { name: 'Domestic Property', percentage: 13.16 }\n  ]);\n\n  const [error, setError] = useState('');\n  const [warning, setWarning] = useState('');\n\n  const colors = ['#8BA6A9', '#A7CECB', '#7FB5B5', '#75704E', '#CACC90', '#B5AD7D'];\n\n  const handleClientNameChange = (e) => {\n    setClientName(e.target.value);\n  };\n\n  const handleAssetNameChange = (index, value) => {\n    const newAssets = [...assets];\n    newAssets[index].name = value;\n    setAssets(newAssets);\n  };\n\n  const handlePercentageChange = (index, value) => {\n    const newAssets = [...assets];\n    newAssets[index].percentage = parseFloat(value) || 0;\n    setAssets(newAssets);\n  };\n\n  const addAsset = () => {\n    if (assets.length < 6) {\n      setAssets([...assets, { name: '', percentage: 0 }]);\n    } else {\n      setWarning('Maximum 6 assets allowed');\n      setTimeout(() => setWarning(''), 3000);\n    }\n  };\n\n  const removeAsset = (index) => {\n    if (assets.length > 1) {\n      const newAssets = [...assets];\n      newAssets.splice(index, 1);\n      setAssets(newAssets);\n    } else {\n      setWarning('At least one asset is required');\n      setTimeout(() => setWarning(''), 3000);\n    }\n  };\n\n  useEffect(() => {\n    const total = assets.reduce((sum, asset) => sum + asset.percentage, 0);\n    if (Math.abs(total - 100) > 0.01) {\n      setError(`Total: ${total.toFixed(2)}% (should be 100%)`);\n    } else {\n      setError('');\n    }\n  }, [assets]);\n\n  const calculatePath = (startAngle, percentage) => {\n    const degrees = percentage * 3.6;\n    const endAngle = startAngle + degrees;\n    \n    const startRad = (startAngle - 90) * (Math.PI / 180);\n    const endRad = (endAngle - 90) * (Math.PI / 180);\n    \n    const startX = 150 * Math.cos(startRad);\n    const startY = 150 * Math.sin(startRad);\n    const endX = 150 * Math.cos(endRad);\n    const endY = 150 * Math.sin(endRad);\n    \n    const largeArcFlag = degrees > 180 ? 1 : 0;\n    \n    return {\n      path: `M 0,0 L ${startX},${startY} A 150,150 0 ${largeArcFlag},1 ${endX},${endY} Z`,\n      endAngle\n    };\n  };\n\n  const generatePaths = () => {\n    let startAngle = 0;\n    const paths = [];\n    \n    assets.forEach((asset, index) => {\n      const { path, endAngle } = calculatePath(startAngle, asset.percentage);\n      paths.push({\n        path,\n        fill: colors[index % colors.length],\n        asset\n      });\n      startAngle = endAngle;\n    });\n    \n    return paths;\n  };\n\n  return (\n    <div className=\"w-full max-w-4xl mx-auto p-4\">\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n        <h2 className=\"text-xl font-bold mb-4\">Asset Allocation Pie Chart Creator</h2>\n        \n        <div className=\"mb-4\">\n          <label className=\"block font-medium mb-1\">Client Name:</label>\n          <input\n            type=\"text\"\n            value={clientName}\n            onChange={handleClientNameChange}\n            placeholder=\"Enter client name\"\n            className=\"w-full p-2 border rounded\"\n          />\n        </div>\n        \n        <div className=\"mb-4\">\n          <div className=\"flex justify-between items-center mb-2\">\n            <h3 className=\"font-medium\">Asset Allocation:</h3>\n            <button\n              onClick={addAsset}\n              className=\"bg-blue-500 text-white px-2 py-1 rounded text-sm\"\n              disabled={assets.length >= 6}\n            >\n              Add Asset\n            </button>\n          </div>\n          \n          {assets.map((asset, index) => (\n            <div key={index} className=\"flex mb-2 items-center space-x-2\">\n              <div className=\"w-8 h-8\" style={{ backgroundColor: colors[index % colors.length] }}></div>\n              <input\n                type=\"text\"\n                value={asset.name}\n                onChange={(e) => handleAssetNameChange(index, e.target.value)}\n                placeholder=\"Asset name\"\n                className=\"flex-1 p-2 border rounded\"\n              />\n              <input\n                type=\"number\"\n                value={asset.percentage}\n                onChange={(e) => handlePercentageChange(index, e.target.value)}\n                placeholder=\"Percentage\"\n                step=\"0.01\"\n                min=\"0\"\n                max=\"100\"\n                className=\"w-24 p-2 border rounded\"\n              />\n              <span className=\"text-lg\">%</span>\n              <button\n                onClick={() => removeAsset(index)}\n                className=\"bg-red-500 text-white p-1 rounded\"\n                disabled={assets.length <= 1}\n              >\n                âœ•\n              </button>\n            </div>\n          ))}\n          \n          {error && <p className=\"text-red-500 mt-2\">{error}</p>}\n          {warning && <p className=\"text-yellow-500 mt-2\">{warning}</p>}\n        </div>\n      </div>\n      \n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <svg width=\"800\" height=\"400\" viewBox=\"0 0 800 400\" xmlns=\"http://www.w3.org/2000/svg\" font-family=\"Times New Roman, serif\">\n          <text x=\"400\" y=\"30\" font-size=\"24\" font-weight=\"bold\" text-anchor=\"middle\">\n            {clientName || \"[CLIENT NAME]\"}'s Asset Allocation\n          </text>\n          \n          <rect x=\"0\" y=\"0\" width=\"800\" height=\"400\" fill=\"none\" stroke=\"black\" />\n          <g transform=\"translate(200,200)\">\n            {generatePaths().map((item, index) => (\n              <path \n                key={index}\n                d={item.path}\n                fill={item.fill}\n                aria-label={`${item.asset.name}: ${item.asset.percentage}%`}\n              />\n            ))}\n          </g>\n          \n          <g transform=\"translate(450,140)\">\n            {assets.map((asset, index) => (\n              <g key={index} transform={`translate(0,${index * 20})`}>\n                <rect width=\"15\" height=\"15\" fill={colors[index % colors.length]} stroke=\"black\" />\n                <text x=\"18\" y=\"12\" font-size=\"14\" font-weight=\"bold\">\n                  {asset.name} ({asset.percentage.toFixed(2)}%)\n                </text>\n              </g>\n            ))}\n          </g>\n          \n          <text x=\"10\" y=\"390\" font-size=\"12\" text-anchor=\"start\">\n            *Asset allocation aligns with circumstances-based asset allocation*\n          </text>\n        </svg>\n      </div>\n      \n      <div className=\"mt-6 bg-gray-100 p-4 rounded-lg\">\n        <h3 className=\"font-medium mb-2\">Instructions:</h3>\n        <ol className=\"list-decimal ml-5 space-y-1\">\n          <li>Enter the client's name</li>\n          <li>Input each asset class name and its percentage allocation</li>\n          <li>Ensure percentages add up to exactly 100%</li>\n          <li>You can add up to 6 asset classes</li>\n          <li>The pie chart will update automatically</li>\n        </ol>\n      </div>\n    </div>\n  );\n};\n\nexport default PieChartCreator;"
            },
            {
                image: "Switch Platform Final.png",
                title: "Investment Strategy Flowchart",
                text: "INVESTMENT FLOWCHART UPDATE TASK\nSTEP 1: UNDERSTAND WHAT YOU NEED TO DO\nI need you to update ONLY the initial values in a React component's state. The code will have a section that looks like this:\nCopy\njavascript\nCopy\nconst [boxes, setBoxes] = useState({ currentInvestment: { ... }, targetPlatform: { ... }, retainedBalance: { ... }, specialAccount: { ... }, transitionNote: \"...\" });\nYou will extract information from the \"What we recommend you do\" section of the SOA document and update these values.\nSTEP 2: EXTRACT THE INFORMATION\nRead the SOA document I've attached, focusing on the \"What we recommend you do\" section. Look for:\n* Investment platforms\n* Account types\n* Balances\n* Client names\n* Special accounts or trusts mentioned\nSTEP 3: UPDATE ONLY THIS PART OF THE CODE\nOnly modify the values inside the useState hook below. DO NOT change variable names or code structure:\nCopy\njavascript\nCopy\nconst [boxes, setBoxes] = useState({ currentInvestment: { title: 'Direct Investments', subtitle: '(incl Property)', currentBalance: '15,548,401', proposedBalance: '3,525,000' }, targetPlatform: { platformName: 'Australian Super', investmentOption: 'Pre-Mixed High Growth', client1Name: 'Diana', client1Balance: '121,825', client2Name: 'Kade', client2Balance: '691,522' }, retainedBalance: { platformName: 'Australian Super', description: 'Retained Balance', client1Name: 'Diana', client1Info: '10,000 (HostPlus)', client2Name: 'Kade', client2Info: '10,000 (AMP)' }, specialAccount: { accountType: 'Centuria LifeGoals Bond', beneficiary: 'For Archer', initialAmount: '3,000', regularContribution: 'Monthly: $100' }, transitionNote: 'Switch Platform' });\nSTEP 4: RETURN THE FULL CODE\nCopy-paste the entire code I'll send you in my next message, but replace ONLY the useState section with your updated values.\nKeep all other code exactly as provided - don't simplify, omit, or rewrite anything else.\nIMPORTANT NOTES:\n* Maintain any redacted information exactly as shown (e.g., \"[REDACTED]\")\n* If information is unclear or missing, use available data and note your assumptions\n* The visualization shows flows between different investment accounts, so capture these relationships accurately\n* Don't change any code structure, variable names, or functions - only update values"
            },
            {
                image: "Super Fund with Lump Sums.png",
                title: "Withdrawal Strategy",
                text: "Create a diagram showing withdrawal strategy from Morley Super Fund accounts to cash account"
            },
            {
                image: "Rental Income.png",
                title: "Super Rollover Diagram",
                text: "I will provide you with two things:\nA financial document (SOA - Statement of Advice or related financial document)\nA React code template for displaying rental income information in a flowchart\nAnalyze the financial document and extract the following information:\nSource Account Details:\n\n\nMember name\nFund name\nCurrent balance\nProposed balance after rollover\nTarget Account Details:\n\n\nMember name\nFund name\nCurrent balance\nProposed balance after rollover\nRental Property Information:\n\n\nOwner name\nProperty description (if available)\nAnnual rental income amount (look for figures followed by \"p.a.\")\nContribution Information:\n\n\nNon-concessional contribution amounts\nPersonal deductible contribution amounts\nRollover Details:\n\n\nType of rollover (Full, Partial, etc.)\nIMPORTANT: Return the ENTIRE updated React code in your response, not just the parts you've modified.\nWhen updating the React component:\nModify ONLY the following parts of the React code:\n\n\nThe initial state in the useState hook for flowchartData\nUpdate all relevant fields with information from the document\nKeep all the existing functionality, components, and styling intact\nMake sure to maintain the exact same structure and property names as in the original code:\n\n\nsourceAccount: with name, fundName, currentBalance, and proposedBalance properties\ntargetAccount: with name, fundName, currentBalance, and proposedBalance properties\nrentalProperty: with showProperty property\nrentalIncome: with name, description, and amount properties\ncontributions: with nonConcessional and personalDeductible properties\nrolloverText: with line1 and line2 properties\nLook for the rental income information throughout the entire document, focusing on:\nSections about recommendations or \"What we recommend you do\"\nTables showing account details or investment schedules\nSections describing ongoing payments or rental income streams\nAreas mentioning property investments or rental income\nSections that mention annual income amounts followed by \"p.a.\" (per annum)\nDo not modify any UI elements, styling, or component structure - only update the data based on what you find in the document.\n\nimport React, { useState } from 'react';\n\nconst SuperRolloverFlowchart = () => {\n  const [flowchartData, setFlowchartData] = useState({\n    sourceAccount: {\n      name: \"Alice\",\n      fundName: \"QSuper Accumulation Fund\",\n      currentBalance: \"287,938.79\",\n      proposedBalance: \"0\"\n    },\n    targetAccount: {\n      name: \"Alice\",\n      fundName: \"Macquarie Super Manager II\",\n      currentBalance: \"0\",\n      proposedBalance: \"361,288.79\"\n    },\n    rentalProperty: {\n      showProperty: true\n    },\n    rentalIncome: {\n      name: \"Alice\",\n      description: \"Rental Income\",\n      amount: \"39,000\"\n    },\n    contributions: {\n      nonConcessional: \"64,000\",\n      personalDeductible: \"9,350\"\n    },\n    rolloverText: {\n      line1: \"Full\",\n      line2: \"Rollover\"\n    }\n  });\n\n  // Direct SVG text editing state\n  const [editingText, setEditingText] = useState(null);\n  const [editValue, setEditValue] = useState(\"\");\n\n  const updateSourceAccount = (field, value) => {\n    setFlowchartData({\n      ...flowchartData,\n      sourceAccount: {\n        ...flowchartData.sourceAccount,\n        [field]: value\n      }\n    });\n  };\n\n  const updateTargetAccount = (field, value) => {\n    setFlowchartData({\n      ...flowchartData,\n      targetAccount: {\n        ...flowchartData.targetAccount,\n        [field]: value\n      }\n    });\n  };\n\n  const updateRentalIncome = (field, value) => {\n    setFlowchartData({\n      ...flowchartData,\n      rentalIncome: {\n        ...flowchartData.rentalIncome,\n        [field]: value\n      }\n    });\n  };\n\n  const updateContributions = (field, value) => {\n    setFlowchartData({\n      ...flowchartData,\n      contributions: {\n        ...flowchartData.contributions,\n        [field]: value\n      }\n    });\n  };\n\n  const updateRolloverText = (field, value) => {\n    setFlowchartData({\n      ...flowchartData,\n      rolloverText: {\n        ...flowchartData.rolloverText,\n        [field]: value\n      }\n    });\n  };\n\n  const toggleProperty = () => {\n    setFlowchartData({\n      ...flowchartData,\n      rentalProperty: {\n        ...flowchartData.rentalProperty,\n        showProperty: !flowchartData.rentalProperty.showProperty\n      }\n    });\n  };\n\n  // Handle starting text edit on SVG text\n  const startTextEdit = (key, value) => {\n    setEditingText(key);\n    setEditValue(value);\n  };\n\n  // Handle completing text edit\n  const finishTextEdit = (event) => {\n    if (!editingText) return;\n    \n    if (event.key === \"Enter\" || event.type === \"blur\") {\n      const [section, field] = editingText.split('.');\n      \n      if (section === \"sourceAccount\") {\n        updateSourceAccount(field, editValue);\n      } else if (section === \"targetAccount\") {\n        updateTargetAccount(field, editValue);\n      } else if (section === \"rentalIncome\") {\n        updateRentalIncome(field, editValue);\n      } else if (section === \"contributions\") {\n        updateContributions(field, editValue);\n      } else if (section === \"rolloverText\") {\n        updateRolloverText(field, editValue);\n      }\n      \n      setEditingText(null);\n    }\n  };\n\n  // Text component for SVG with inline editing\n  const EditableText = ({ x, y, text, field, fontSize = 12, fontWeight = \"normal\", fill = \"#FFFFFF\", textAnchor = \"middle\" }) => {\n    const isEditing = editingText === field;\n    \n    return isEditing ? (\n      <foreignObject x={textAnchor === \"middle\" ? x - 75 : x} y={y - 15} width=\"150\" height=\"25\">\n        <input\n          type=\"text\"\n          value={editValue}\n          onChange={(e) => setEditValue(e.target.value)}\n          onKeyDown={finishTextEdit}\n          onBlur={finishTextEdit}\n          autoFocus\n          className=\"p-0 m-0 w-full border border-blue-500 text-center\"\n          style={{ fontSize: `${fontSize}px`, fontWeight }}\n        />\n      </foreignObject>\n    ) : (\n      <text \n        x={x} \n        y={y} \n        font-size={fontSize} \n        font-weight={fontWeight} \n        text-anchor={textAnchor} \n        fill={fill} \n        font-family=\"'Times New Roman', serif\"\n        onClick={() => startTextEdit(field, text)}\n        style={{ cursor: 'pointer' }}\n      >\n        {text}\n      </text>\n    );\n  };\n\n  return (\n    <div className=\"w-full max-w-5xl mx-auto p-4 bg-gray-50\">\n      <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6 border border-gray-200\">\n        <h2 className=\"text-2xl font-bold mb-4 text-gray-800 text-center\">Super Rollover Flowchart Editor</h2>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n          {/* Source Super Account */}\n          <div className=\"border border-gray-300 p-4 rounded-lg bg-blue-50\">\n            <h3 className=\"font-bold text-lg mb-2 text-blue-800\">Source Super Account</h3>\n            <div className=\"space-y-2\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Member Name:</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.sourceAccount.name}\n                  onChange={(e) => updateSourceAccount('name', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Fund Name:</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.sourceAccount.fundName}\n                  onChange={(e) => updateSourceAccount('fundName', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Current Balance ($):</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.sourceAccount.currentBalance}\n                  onChange={(e) => updateSourceAccount('currentBalance', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Proposed Balance ($):</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.sourceAccount.proposedBalance}\n                  onChange={(e) => updateSourceAccount('proposedBalance', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n          \n          {/* Target Super Account */}\n          <div className=\"border border-gray-300 p-4 rounded-lg bg-blue-50\">\n            <h3 className=\"font-bold text-lg mb-2 text-blue-800\">Target Super Account</h3>\n            <div className=\"space-y-2\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Member Name:</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.targetAccount.name}\n                  onChange={(e) => updateTargetAccount('name', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Fund Name:</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.targetAccount.fundName}\n                  onChange={(e) => updateTargetAccount('fundName', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Current Balance ($):</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.targetAccount.currentBalance}\n                  onChange={(e) => updateTargetAccount('currentBalance', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Proposed Balance ($):</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.targetAccount.proposedBalance}\n                  onChange={(e) => updateTargetAccount('proposedBalance', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {/* Rental Property */}\n          <div className=\"border border-gray-300 p-4 rounded-lg bg-gray-50\">\n            <div className=\"flex justify-between items-center mb-2\">\n              <h3 className=\"font-bold text-lg text-gray-700\">Rental Property</h3>\n              <div className=\"flex items-center\">\n                <label className=\"mr-2 text-sm text-gray-700\">Show Property:</label>\n                <input\n                  type=\"checkbox\"\n                  checked={flowchartData.rentalProperty.showProperty}\n                  onChange={toggleProperty}\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"space-y-2\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Owner Name:</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.rentalIncome.name}\n                  onChange={(e) => updateRentalIncome('name', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Description:</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.rentalIncome.description}\n                  onChange={(e) => updateRentalIncome('description', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Annual Income ($):</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.rentalIncome.amount}\n                  onChange={(e) => updateRentalIncome('amount', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n          \n          {/* Rollover & Contributions */}\n          <div className=\"border border-gray-300 p-4 rounded-lg bg-gray-50\">\n            <h3 className=\"font-bold text-lg mb-2 text-gray-700\">Rollover Information</h3>\n            <div className=\"grid grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Rollover Text (Line 1):</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.rolloverText.line1}\n                  onChange={(e) => updateRolloverText('line1', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Rollover Text (Line 2):</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.rolloverText.line2}\n                  onChange={(e) => updateRolloverText('line2', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n            \n            <h3 className=\"font-bold text-lg mb-2 text-gray-700\">Contributions</h3>\n            <div className=\"space-y-2\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Non-concessional Contribution ($):</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.contributions.nonConcessional}\n                  onChange={(e) => updateContributions('nonConcessional', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Personal Deductible Contribution ($):</label>\n                <input\n                  type=\"text\"\n                  value={flowchartData.contributions.personalDeductible}\n                  onChange={(e) => updateContributions('personalDeductible', e.target.value)}\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* SVG Flowchart Display */}\n      <div className=\"bg-white rounded-lg shadow-lg p-6 overflow-auto border border-gray-200\">\n        <svg width=\"650\" height=\"550\" viewBox=\"0 0 650 550\" xmlns=\"http://www.w3.org/2000/svg\" style={{fontFamily: \"'Times New Roman', serif\"}}>\n          {/* Source Super Account Box */}\n          <rect x=\"0\" y=\"0\" width=\"220\" height=\"100\" rx=\"15\" ry=\"15\" fill=\"#00AEEF\" stroke=\"#000000\" />\n          <EditableText \n            x={110} \n            y={25} \n            text={flowchartData.sourceAccount.name} \n            field=\"sourceAccount.name\" \n          />\n          <EditableText \n            x={110} \n            y={45} \n            text={flowchartData.sourceAccount.fundName} \n            field=\"sourceAccount.fundName\" \n          />\n          <EditableText \n            x={110} \n            y={65} \n            text={`Current ${flowchartData.sourceAccount.currentBalance}`} \n            field=\"sourceAccount.currentBalance\" \n          />\n          <EditableText \n            x={110} \n            y={85} \n            text={`Proposed ${flowchartData.sourceAccount.proposedBalance}`} \n            field=\"sourceAccount.proposedBalance\" \n          />\n          \n          {/* Target Super Account Box */}\n          <rect x=\"330\" y=\"0\" width=\"250\" height=\"100\" rx=\"15\" ry=\"15\" fill=\"#00AEEF\" stroke=\"#000000\" />\n          <EditableText \n            x={455} \n            y={25} \n            text={flowchartData.targetAccount.name} \n            field=\"targetAccount.name\" \n          />\n          <EditableText \n            x={455} \n            y={45} \n            text={flowchartData.targetAccount.fundName} \n            field=\"targetAccount.fundName\" \n          />\n          <EditableText \n            x={455} \n            y={65} \n            text={`Current ${flowchartData.targetAccount.currentBalance}`} \n            field=\"targetAccount.currentBalance\" \n          />\n          <EditableText \n            x={455} \n            y={85} \n            text={`Proposed ${flowchartData.targetAccount.proposedBalance}`} \n            field=\"targetAccount.proposedBalance\" \n          />\n          \n          {/* Full Rollover Box */}\n          <rect x=\"240\" y=\"25\" width=\"60\" height=\"50\" fill=\"#FFFFFF\" stroke=\"#000000\" />\n          <EditableText \n            x={270} \n            y={43} \n            text={flowchartData.rolloverText.line1} \n            field=\"rolloverText.line1\" \n            fontSize={11}\n            fill=\"#000000\"\n          />\n          <EditableText \n            x={270} \n            y={57} \n            text={flowchartData.rolloverText.line2} \n            field=\"rolloverText.line2\" \n            fontSize={11}\n            fill=\"#000000\"\n          />\n          \n          {/* Contribution Box */}\n          <rect x=\"370\" y=\"140\" width=\"170\" height=\"70\" fill=\"#FFFFFF\" stroke=\"#000000\" />\n          <EditableText \n            x={455} \n            y={160} \n            text={`Non-concessional contribution of`} \n            field=\"contributions.description1\" \n            fontSize={11}\n            fill=\"#000000\"\n          />\n          <EditableText \n            x={455} \n            y={175} \n            text={`${flowchartData.contributions.nonConcessional} and`} \n            field=\"contributions.nonConcessional\" \n            fontSize={11}\n            fill=\"#000000\"\n          />\n          <EditableText \n            x={455} \n            y={190} \n            text={`Personal Deductible contribution`} \n            field=\"contributions.description2\" \n            fontSize={11}\n            fill=\"#000000\"\n          />\n          <EditableText \n            x={455} \n            y={205} \n            text={`of ${flowchartData.contributions.personalDeductible}`} \n            field=\"contributions.personalDeductible\" \n            fontSize={11}\n            fill=\"#000000\"\n          />\n          \n          {/* Rental Income Box (Top) */}\n          <rect x=\"340\" y=\"270\" width=\"250\" height=\"90\" rx=\"13.5\" ry=\"13.5\" fill=\"#808080\" stroke=\"#000000\" />\n          <EditableText \n            x={465} \n            y={305} \n            text={flowchartData.rentalIncome.name} \n            field=\"rentalIncome.name\" \n          />\n          <EditableText \n            x={465} \n            y={325} \n            text={flowchartData.rentalIncome.description} \n            field=\"rentalIncome.description\" \n          />\n          <EditableText \n            x={465} \n            y={345} \n            text={`${flowchartData.rentalIncome.amount} p.a.`} \n            field=\"rentalIncome.amount\" \n          />\n          \n          {/* Rental Income Box (Bottom) */}\n          <rect x=\"380\" y=\"430\" width=\"200\" height=\"80\" rx=\"12\" ry=\"12\" fill=\"#808080\" stroke=\"#000000\" />\n          <EditableText \n            x={480} \n            y={450} \n            text={flowchartData.rentalIncome.name} \n            field=\"rentalIncome.name2\" \n          />\n          <EditableText \n            x={480} \n            y={470} \n            text={flowchartData.rentalIncome.description} \n            field=\"rentalIncome.description2\" \n          />\n          <EditableText \n            x={480} \n            y={490} \n            text={`${flowchartData.rentalIncome.amount} p.a.`} \n            field=\"rentalIncome.amount2\" \n          />\n          \n          {/* House Icon (conditionally shown) */}\n          {flowchartData.rentalProperty.showProperty && (\n            <g transform=\"translate(90, 405)\">\n              <path d=\"M 130.05 0 C 129.66 0 129.28 0.13 128.96 0.37 L 60.85 52.28 C 60.25 52.74 60 53.55 60.24 54.28 C 60.49 55.01 61.17 55.5 61.94 55.5 L 73.73 55.5 L 73.73 118.44 C 73.73 118.91 73.92 119.37 74.26 119.7 C 74.59 120.04 75.05 120.23 75.52 120.23 L 186.77 120.23 C 187.24 120.23 187.7 120.04 188.03 119.7 C 188.37 119.37 188.56 118.91 188.56 118.44 L 188.56 55.5 L 198.06 55.5 C 198.83 55.5 199.51 55.01 199.75 54.28 C 200 53.55 199.75 52.75 199.14 52.28 L 176.39 34.91 L 176.39 2.57 C 176.39 1.58 175.59 0.77 174.6 0.77 L 155.01 0.77 C 154.03 0.77 153.22 1.58 153.22 2.57 L 153.22 17.23 L 131.13 0.37 C 130.82 0.13 130.44 0 130.05 0 Z M 130.05 4.05 L 192.75 51.91 L 67.25 51.91 Z M 156.81 4.36 L 172.81 4.36 L 172.81 32.18 L 156.81 19.96 Z M 77.32 55.5 L 184.98 55.5 L 184.98 116.64 L 169.08 116.64 L 169.08 73.15 C 169.07 72.16 168.27 71.36 167.29 71.35 L 139.92 71.35 C 138.93 71.36 138.13 72.16 138.13 73.15 L 138.13 116.64 L 77.32 116.64 Z M 92.87 71.33 C 91.88 71.33 91.08 72.13 91.08 73.12 L 91.08 98.76 C 91.08 99.75 91.88 100.55 92.87 100.55 L 126.36 100.55 C 127.35 100.55 128.15 99.75 128.15 98.76 L 128.15 73.12 C 128.15 72.13 127.35 71.33 126.36 71.33 Z M 94.66 74.92 L 107.47 74.92 L 107.47 84.67 L 94.66 84.67 Z M 111.05 74.92 L 124.57 74.92 L 124.57 84.67 L 111.05 84.67 Z M 141.71 74.94 L 165.49 74.94 L 165.49 116.64 L 141.71 116.64 Z M 94.66 88.26 L 107.47 88.26 L 107.47 96.97 L 94.66 96.97 Z M 111.05 88.26 L 124.57 88.26 L 124.57 96.97 L 111.05 96.97 Z\" \n                fill=\"#000000\" \n                stroke=\"none\" />\n            </g>\n          )}\n          \n          {/* Connection Lines */}\n          {/* Source Account to Full Rollover Box */}\n          <line x1=\"220\" y1=\"50\" x2=\"240\" y2=\"50\" stroke=\"#000000\" stroke-width=\"1.5\" />\n          \n          {/* Full Rollover Box to Target Account */}\n          <path d=\"M 300 50 L 330 50\" fill=\"none\" stroke=\"#000000\" stroke-width=\"1.5\" marker-end=\"url(#arrowhead)\" />\n          \n          {/* Contribution Box to Target Account */}\n          <line x1=\"455\" y1=\"140\" x2=\"455\" y2=\"100\" stroke=\"#000000\" stroke-width=\"1.5\" marker-end=\"url(#arrowhead)\" />\n          \n          {/* Rental Income (Top) to Contribution Box */}\n          <line x1=\"455\" y1=\"270\" x2=\"455\" y2=\"210\" stroke=\"#000000\" stroke-width=\"1.5\" marker-end=\"url(#arrowhead)\" />\n          \n          {/* House Icon to Rental Income (Bottom) */}\n          {flowchartData.rentalProperty.showProperty && (\n            <line x1=\"280\" y1=\"470\" x2=\"380\" y2=\"470\" stroke=\"#000000\" stroke-width=\"1.5\" marker-end=\"url(#arrowhead)\" />\n          )}\n          \n          {/* Arrowhead definition */}\n          <defs>\n            <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"7\" refX=\"9\" refY=\"3.5\" orient=\"auto\">\n              <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#000000\" />\n            </marker>\n          </defs>\n        </svg>\n      </div>\n      \n      <div className=\"mt-6 bg-blue-50 p-4 rounded-lg border border-blue-200\">\n        <h3 className=\"font-medium mb-2 text-blue-800\">Instructions:</h3>\n        <ol className=\"list-decimal ml-5 space-y-1 text-gray-700\">\n          <li>Edit form fields above to update the flowchart</li>\n          <li>Click directly on any text in the flowchart to edit it inline</li>\n          <li>Press Enter or click elsewhere to save changes</li>\n          <li>Toggle the property icon visibility as needed</li>\n        </ol>\n      </div>\n    </div>\n  );\n};\n\nexport default SuperRolloverFlowchart;"
            },
            {
                image: "family pension with drawdowns.png",
                title: "Pension Drawdown Strategy",
                text: "I will provide you with two things:\nA financial document (SOA - Statement of Advice or related financial document)\nA React code template for displaying pension plan information\nAnalyze the financial document and extract the following information:\nFamily Pension Plan Details:\n\n\nPlan name\nTotal balance\nAccount types (TRIS, Accumulation, etc.)\nAccount owners\nIndividual account balances\nDrawdown Information:\n\n\nIdentify accounts with drawdowns\nDrawdown types (e.g., \"Draw\", \"Draw Minimum\")\nAnnual drawdown amounts (look for figures followed by \"p.a.\" or annual amounts)\nInvestment Allocation:\n\n\nRecommended investment portfolios\nPercentage allocations to different asset classes\nOnce you've extracted the information, use it to update the provided React component.\nIMPORTANT: Return the ENTIRE updated React code in your response, not just the parts you've modified.\nWhen updating the React component:\nModify ONLY the following parts of the React code:\n\n\nThe initial state in the useState hook for planData\nUpdate the plan name, balance, accounts array, and drawdown information\nKeep all the existing functionality, components, and styling intact\nMake sure to maintain the exact same structure and property names as in the original code:\n\n\nmainPlan: with name and balance properties\naccounts: array of account objects with type, owner, balance, hasDrawdown, drawdownType, and drawdownAmount properties\nLook for the pension information throughout the entire document, focusing on:\nSections about recommendations or \"What we recommend you do\"\nTables showing account details or investment schedules\nSections describing ongoing payments or income streams\nAreas mentioning TRIS (Transition to Retirement Income Stream) accounts\nSections that mention drawdown amounts followed by \"p.a.\" (per annum)\nDo not modify any UI elements, styling, or component structure - only update the data based on what you find in the document.\n\nimport React, { useState } from 'react';\n\nconst PensionFlowchartCreator = () => {\n  const [planData, setPlanData] = useState({\n    mainPlan: {\n      name: 'Alice & J John Family Pension Plan',\n      balance: '691,591'\n    },\n    accounts: [\n      {\n        type: 'TRIS #3',\n        owner: 'Brendon',\n        balance: '452,023',\n        hasDrawdown: true,\n        drawdownType: 'Draw',\n        drawdownAmount: '26,770'\n      },\n      {\n        type: 'Accumulation',\n        owner: 'Brendon',\n        balance: '8,846',\n        hasDrawdown: false\n      },\n      {\n        type: 'TRIS #5',\n        owner: 'Brendon',\n        balance: '230,650',\n        hasDrawdown: true,\n        drawdownType: 'Draw Minimum',\n        drawdownAmount: '9,320'\n      }\n    ]\n  });\n\n  const updateMainPlan = (field, value) => {\n    setPlanData({\n      ...planData,\n      mainPlan: {\n        ...planData.mainPlan,\n        [field]: value\n      }\n    });\n  };\n\n  const updateAccount = (index, field, value) => {\n    const newAccounts = [...planData.accounts];\n    newAccounts[index] = {\n      ...newAccounts[index],\n      [field]: value\n    };\n    setPlanData({\n      ...planData,\n      accounts: newAccounts\n    });\n  };\n\n  const updateDrawdown = (index, field, value) => {\n    const newAccounts = [...planData.accounts];\n    newAccounts[index] = {\n      ...newAccounts[index],\n      [field]: value\n    };\n    setPlanData({\n      ...planData,\n      accounts: newAccounts\n    });\n  };\n\n  const toggleDrawdown = (index) => {\n    const newAccounts = [...planData.accounts];\n    newAccounts[index] = {\n      ...newAccounts[index],\n      hasDrawdown: !newAccounts[index].hasDrawdown,\n      drawdownType: newAccounts[index].hasDrawdown ? '' : 'Draw',\n      drawdownAmount: newAccounts[index].hasDrawdown ? '' : '0'\n    };\n    setPlanData({\n      ...planData,\n      accounts: newAccounts\n    });\n  };\n\n  const addAccount = () => {\n    setPlanData({\n      ...planData,\n      accounts: [\n        ...planData.accounts,\n        {\n          type: 'New Account',\n          owner: 'Owner',\n          balance: '0',\n          hasDrawdown: false\n        }\n      ]\n    });\n  };\n\n  const removeAccount = (index) => {\n    if (planData.accounts.length <= 1) {\n      return;\n    }\n    \n    const newAccounts = [...planData.accounts];\n    newAccounts.splice(index, 1);\n    setPlanData({\n      ...planData,\n      accounts: newAccounts\n    });\n  };\n\n  return (\n    <div className=\"w-full max-w-4xl mx-auto p-4 bg-gray-50\">\n      <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6 border border-gray-200\">\n        <h2 className=\"text-2xl font-bold mb-4 text-gray-800 text-center\">Pension Plan Flowchart Editor</h2>\n        \n        {/* Main Pension Plan */}\n        <div className=\"border border-gray-300 p-4 rounded-lg bg-gray-100 mb-6\">\n          <h3 className=\"font-bold text-lg mb-2 text-gray-700\">Main Pension Plan</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Plan Name:</label>\n              <input\n                type=\"text\"\n                value={planData.mainPlan.name}\n                onChange={(e) => updateMainPlan('name', e.target.value)}\n                className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Total Balance ($):</label>\n              <input\n                type=\"text\"\n                value={planData.mainPlan.balance}\n                onChange={(e) => updateMainPlan('balance', e.target.value)}\n                className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          </div>\n        </div>\n        \n        {/* Account Sections */}\n        <div className=\"mb-4\">\n          <div className=\"flex justify-between items-center mb-2\">\n            <h3 className=\"font-bold text-lg text-gray-700\">Account Details</h3>\n            <button\n              onClick={addAccount}\n              className=\"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm transition-colors\"\n            >\n              Add Account\n            </button>\n          </div>\n          \n          <div className=\"grid grid-cols-1 gap-6\">\n            {planData.accounts.map((account, index) => (\n              <div key={index} className=\"border border-gray-300 p-4 rounded-lg bg-gray-100 relative\">\n                <button\n                  onClick={() => removeAccount(index)}\n                  className=\"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center transition-colors\"\n                  disabled={planData.accounts.length <= 1}\n                >\n                  Ã—\n                </button>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Account Type:</label>\n                    <input\n                      type=\"text\"\n                      value={account.type}\n                      onChange={(e) => updateAccount(index, 'type', e.target.value)}\n                      className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Owner:</label>\n                    <input\n                      type=\"text\"\n                      value={account.owner}\n                      onChange={(e) => updateAccount(index, 'owner', e.target.value)}\n                      className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Balance ($):</label>\n                    <input\n                      type=\"text\"\n                      value={account.balance}\n                      onChange={(e) => updateAccount(index, 'balance', e.target.value)}\n                      className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                </div>\n                \n                <div className=\"mt-2\">\n                  <div className=\"flex items-center mb-2\">\n                    <input\n                      type=\"checkbox\"\n                      checked={account.hasDrawdown}\n                      onChange={() => toggleDrawdown(index)}\n                      className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    />\n                    <label className=\"ml-2 block text-sm text-gray-700\">Has Drawdown</label>\n                  </div>\n                  \n                  {account.hasDrawdown && (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 pl-6 border-l-2 border-gray-300 ml-2\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Drawdown Type:</label>\n                        <select\n                          value={account.drawdownType}\n                          onChange={(e) => updateDrawdown(index, 'drawdownType', e.target.value)}\n                          className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        >\n                          <option value=\"Draw\">Draw</option>\n                          <option value=\"Draw Minimum\">Draw Minimum</option>\n                        </select>\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Amount ($ p.a.):</label>\n                        <input\n                          type=\"text\"\n                          value={account.drawdownAmount}\n                          onChange={(e) => updateDrawdown(index, 'drawdownAmount', e.target.value)}\n                          className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n      \n      {/* SVG Flowchart Display */}\n      <div className=\"bg-white rounded-lg shadow-lg p-6 overflow-auto border border-gray-200\">\n        <svg width=\"770\" height=\"500\" viewBox=\"0 0 770 500\" xmlns=\"http://www.w3.org/2000/svg\" style={{fontFamily: \"'Times New Roman', serif\"}}>\n          {/* Main Pension Plan Box */}\n          <rect x=\"60\" y=\"90\" width=\"650\" height=\"150\" rx=\"10\" ry=\"10\" fill=\"#8C8C8C\" stroke=\"#000000\" />\n          <text x=\"385\" y=\"120\" font-size=\"24\" font-weight=\"bold\" text-anchor=\"middle\" fill=\"#FFFFFF\" font-family=\"'Times New Roman', serif\">\n            {planData.mainPlan.name}\n          </text>\n          <text x=\"385\" y=\"150\" font-size=\"20\" font-weight=\"bold\" text-anchor=\"middle\" fill=\"#FFFFFF\" font-family=\"'Times New Roman', serif\">\n            ${planData.mainPlan.balance}\n          </text>\n          \n          {/* Account Boxes - Dynamic based on number of accounts */}\n          {planData.accounts.map((account, index) => {\n            // Calculate position based on number of accounts\n            const totalWidth = 650;\n            const boxWidth = Math.min(230, totalWidth / planData.accounts.length - 20);\n            const spacing = (totalWidth - (boxWidth * planData.accounts.length)) / (planData.accounts.length + 1);\n            const xPosition = 60 + spacing + (index * (boxWidth + spacing));\n            const centerX = xPosition + (boxWidth / 2);\n            \n            return (\n              <g key={index}>\n                {/* Account Box */}\n                <rect x={xPosition} y=\"190\" width={boxWidth} height=\"100\" rx=\"5\" ry=\"5\" fill=\"#C4C4C4\" stroke=\"#000000\" />\n                <text x={centerX} y=\"215\" font-size=\"17\" font-weight=\"bold\" text-anchor=\"middle\" fill=\"#FFFFFF\" font-family=\"'Times New Roman', serif\">\n                  {account.type}\n                </text>\n                <text x={centerX} y=\"240\" font-size=\"17\" font-weight=\"bold\" text-anchor=\"middle\" fill=\"#FFFFFF\" font-family=\"'Times New Roman', serif\">\n                  {account.owner}\n                </text>\n                <text x={centerX} y=\"265\" font-size=\"17\" font-weight=\"bold\" text-anchor=\"middle\" fill=\"#FFFFFF\" font-family=\"'Times New Roman', serif\">\n                  ${account.balance}\n                </text>\n                \n                {/* Drawdown elements if enabled */}\n                {account.hasDrawdown && (\n                  <>\n                    {/* Drawdown Box */}\n                    <rect x={centerX - 30} y=\"320\" width=\"60\" height=\"40\" fill=\"#FFFFFF\" stroke=\"#000000\" />\n                    <text x={centerX} y=\"340\" font-size=\"10\" font-weight=\"normal\" text-anchor=\"middle\" fill=\"#000000\" font-family=\"'Times New Roman', serif\">\n                      {account.drawdownType === 'Draw Minimum' \n                        ? (\n                          <>\n                            <tspan x={centerX} dy=\"0\">Draw</tspan>\n                            <tspan x={centerX} dy=\"12\">Minimum</tspan>\n                          </>\n                        ) \n                        : account.drawdownType\n                      }\n                    </text>\n                    \n                    {/* Arrow from Account to Drawdown */}\n                    <path d={`M ${centerX} 290 L ${centerX} 320`} fill=\"none\" stroke=\"#000000\" stroke-width=\"1.5\" marker-end=\"url(#arrowhead)\" />\n                    \n                    {/* Drawdown Amount Box */}\n                    <rect x={centerX - 85} y=\"450\" width=\"170\" height=\"50\" rx=\"5\" ry=\"5\" fill=\"#8C8C8C\" stroke=\"#000000\" />\n                    <text x={centerX} y=\"480\" font-size=\"17\" font-weight=\"bold\" text-anchor=\"middle\" fill=\"#FFFFFF\" font-family=\"'Times New Roman', serif\">\n                      ${account.drawdownAmount} p.a.\n                    </text>\n                    \n                    {/* Arrow from Drawdown to Amount */}\n                    <path d={`M ${centerX} 360 L ${centerX} 450`} fill=\"none\" stroke=\"#000000\" stroke-width=\"1.5\" marker-end=\"url(#arrowhead)\" />\n                  </>\n                )}\n              </g>\n            );\n          })}\n          \n          {/* Arrowhead definition */}\n          <defs>\n            <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"7\" refX=\"9\" refY=\"3.5\" orient=\"auto\">\n              <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#000000\" />\n            </marker>\n          </defs>\n        </svg>\n      </div>\n      \n      <div className=\"mt-6 bg-blue-50 p-4 rounded-lg border border-blue-200\">\n        <h3 className=\"font-medium mb-2 text-blue-800\">Instructions:</h3>\n        <ol className=\"list-decimal ml-5 space-y-1 text-gray-700\">\n          <li>Enter the main pension plan details</li>\n          <li>Add or remove accounts using the controls</li>\n          <li>For accounts with drawdowns, check the box and specify the drawdown type and amount</li>\n          <li>The flowchart updates automatically to show the pension structure</li>\n        </ol>\n      </div>\n    </div>\n  );\n};\n\nexport default PensionFlowchartCreator;"
            },
            {
                image: "Retirement Plan.png",
                title: "Retirement Plan Overview",
                text: "Create a comprehensive retirement planning flowchart showing income sources, expenses, and savings growth over time. Include social security, pension, investment withdrawals, and required minimum distributions (RMDs). Show how income needs change through different retirement phases."
            },
            {
                image: "Situational Planning.png",
                title: "Financial Situation Analysis",
                text: "Generate a visual representation of a client's current financial situation, showing income streams, assets, liabilities, insurance coverage, and tax considerations. Highlight areas of strength and opportunities for improvement in the financial planning process."
            },
            {
                image: "Investment Allocation Flowchart.png",
                title: "Investment Allocation Strategy",
                text: "Create an investment allocation flowchart showing recommended portfolio distribution across different asset classes (equities, fixed income, alternatives, cash). Include risk tolerance assessment, time horizon considerations, and rebalancing strategy."
            },
            {
                image: "Retirement Income Sources.png",
                title: "Retirement Income Sources",
                text: "Design a visualization showing all retirement income sources including superannuation, investment property income, dividend payments, and government benefits. Show timing and estimated amounts from each source throughout retirement phases."
            },
            {
                image: "Debt Reduction Strategy.png",
                title: "Debt Reduction Strategy",
                text: "Create a visualization of recommended debt reduction strategy, showing current loans (mortgage, investment, personal), interest rates, payment amounts, and projected payoff timeline. Include debt consolidation opportunities and accelerated payment plans."
            },
            {
                image: "Estate Planning Overview.png",
                title: "Estate Planning Overview",
                text: "Create a comprehensive estate planning flowchart showing will structure, power of attorney arrangements, beneficiary designations, trust structures, and tax considerations. Include contingency planning and asset distribution strategy."
            },
            {
                image: "Insurance Coverage Structure.png",
                title: "Insurance Coverage Structure",
                text: "Design a visual representation of recommended insurance coverage including life, TPD, income protection and trauma policies. Show coverage amounts, premium costs, ownership structure (super vs. personal), and how policies work together to provide comprehensive protection."
            }
        ];

        // Function to populate the gallery
        function populateGallery() {
            const gallery = document.getElementById('imageGallery');
            
            // Create an array of items to display (hide specific items and reorder as needed)
            const displayItems = galleryData.filter(item => {
                // Hide these specific items
                const hideTitles = [
                    "SMSF Establishment", 
                    "Contribution Splitting Strategy", 
                    "Family Trust Strategy", 
                    "Family Pension Plan"
                ];
                // Make sure to keep "Super Rollover Diagram" with "Rental Income.png"
                return !hideTitles.includes(item.title);
            });
            
            // Reorder to put Pension Drawdown Strategy next to Withdrawal Strategy
            const withdrawalIndex = displayItems.findIndex(item => item.title === "Withdrawal Strategy");
            const drawdownIndex = displayItems.findIndex(item => item.title === "Pension Drawdown Strategy");
            
            if (withdrawalIndex !== -1 && drawdownIndex !== -1) {
                // Remove drawdown from its current position
                const drawdownItem = displayItems.splice(drawdownIndex, 1)[0];
                // Insert it after the withdrawal strategy
                displayItems.splice(withdrawalIndex + 1, 0, drawdownItem);
            }
            
            // Create gallery items for display
            displayItems.forEach((item, index) => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                galleryItem.setAttribute('data-index', index);
                
                const img = document.createElement('img');
                img.src = item.image;
                img.alt = item.title;
                img.className = 'gallery-image';
                
                const title = document.createElement('h3');
                title.className = 'gallery-title';
                title.textContent = item.title;
                
                galleryItem.appendChild(img);
                galleryItem.appendChild(title);
                gallery.appendChild(galleryItem);
                
                galleryItem.addEventListener('click', () => {
                    // Find the original index in the full galleryData array
                    const originalIndex = galleryData.findIndex(data => data.title === item.title);
                    openModal(originalIndex);
                });
            });
        }

        // Function to open modal with image and text
        function openModal(index) {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const modalTitle = document.getElementById('modalTitle');
            const textToCopy = document.getElementById('textToCopy');
            const copySuccess = document.getElementById('copySuccess');
            
            const item = galleryData[index];
            
            modalImage.src = item.image;
            modalImage.alt = item.title;
            modalTitle.textContent = item.title;
            textToCopy.textContent = item.text;
            copySuccess.style.display = 'none';
            
            modal.style.display = 'flex';
        }

        // Function to close modal
        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.style.display = 'none';
        }

        // Function to copy text
        function copyText() {
            const textToCopy = document.getElementById('textToCopy');
            const copySuccess = document.getElementById('copySuccess');
            
            navigator.clipboard.writeText(textToCopy.textContent)
                .then(() => {
                    copySuccess.style.display = 'block';
                    setTimeout(() => {
                        copySuccess.style.display = 'none';
                    }, 2000);
                })
                .catch(err => {
                    console.error('Failed to copy text: ', err);
                    alert('Failed to copy text to clipboard');
                });
        }

        // Initialize the gallery when the document is loaded
        document.addEventListener('DOMContentLoaded', () => {
            populateGallery();
            
            // Add event listeners
            document.getElementById('closeModal').addEventListener('click', closeModal);
            document.getElementById('copyButton').addEventListener('click', copyText);
            
            // Close modal when clicking outside the content
            document.getElementById('imageModal').addEventListener('click', (e) => {
                if (e.target === document.getElementById('imageModal')) {
                    closeModal();
                }
            });
        });
    </script>
</body>
</html>
